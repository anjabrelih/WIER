(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{2558:function(e,t,n){"use strict";n.r(t);n(15);var r=n(5),o=n(10),c=n(8),l=n(9),f=n(3),d=n(7),h=(n(12),n(0)),v=n(65),y=n(14),m=(n(49),n(56)),O=n(97),j=n(441);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var R=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},k=function(e){Object(c.a)(d,e);var t,n,l,f=w(d);function d(){var e;return Object(r.a)(this,d),(e=f.apply(this,arguments)).viewed=null,e.userHasLoggedIn=!1,e.showVipFeatures=j.a,e}return Object(o.a)(d,[{key:"shouldOpenModal",get:function(){var e,t;return(null===(e=this.account)||void 0===e?void 0:e.isLogged)&&!this.userHasLoggedIn&&this.showVipFeatures(null===(t=this.user)||void 0===t?void 0:t.vipType)&&!1===this.viewed}},{key:"uiUpdated",value:function(e){null!=e&&e.isLoginInProgress&&(this.userHasLoggedIn=!0)}},{key:"accountChanged",value:(l=Object(y.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(t=this.account)||void 0===t||!t.isLogged){e.next=6;break}return e.next=3,this.getVipConsent();case 3:this.viewed=e.sent,e.next=7;break;case 6:this.viewed=null;case 7:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getVipConsent",value:(n=Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$webApi.getVipConsent();case 3:return e.abrupt("return",e.sent.viewed);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(){return n.apply(this,arguments)})},{key:"submit",value:(t=Object(y.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$webApi.setVipConsent();case 2:this.viewed=!0;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),d}(h.f);R([Object(h.g)("ui",{deep:!0,immediate:!0})],k.prototype,"uiUpdated",null),R([Object(h.g)("account",{deep:!0,immediate:!0})],k.prototype,"accountChanged",null);var C=k=R([Object(h.a)({apollo:{account:{query:m.a},ui:{prefetch:!1,query:v.b},user:{fetchPolicy:"cache-only",query:O.b,skip:function(){var e,t;return!(null!==(e=this.$shopConfig.user)&&void 0!==e&&e.id||null!==(t=this.account)&&void 0!==t&&t.isLogged)}}},components:{ModalVipConsentContent:function(){return n.e(82).then(n.bind(null,2581))}}})],k),V=n(6),x=Object(V.a)(C,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldOpenModal?n("modal-vip-consent-content",{on:{submit:e.submit}}):e._e()}),[],!1,null,null,null).exports;function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var L=function(e,t,n,desc){var r,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(c=(o<3?r(c):o>3?r(t,n,c):r(t,n))||c);return o>3&&c&&Object.defineProperty(t,n,c),c},_=function(e){Object(c.a)(n,e);var t=P(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"openAdultConfirm",get:function(){var e;return null===(e=this.ui)||void 0===e?void 0:e.openAdultConfirm}},{key:"openGlossaryTerm",get:function(){var e;return null===(e=this.ui)||void 0===e?void 0:e.openGlossaryTerm}},{key:"openVideoUrl",get:function(){var e;return null===(e=this.ui)||void 0===e?void 0:e.openVideoUrl}},{key:"openWishlist",get:function(){var e;return null===(e=this.ui)||void 0===e?void 0:e.openWishlist}},{key:"onCloseWishList",value:function(){this.$apollo.mutate({mutation:v.a,variables:{ui:{openWishlist:null}}})}}]),n}(h.f),W=_=L([Object(h.a)({apollo:{ui:{query:v.b}},components:{ModalConfirmAdult:function(){return n.e(72).then(n.bind(null,2577))},ModalGlossary:function(){return n.e(80).then(n.bind(null,2565))},ModalVideo:function(){return n.e(69).then(n.bind(null,1775))},ModalVipConsent:x,AddProductToWishlist:function(){return Promise.all([n.e(4),n.e(39)]).then(n.bind(null,1424))}}})],_),A=Object(V.a)(W,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.openAdultConfirm?n("modal-confirm-adult"):e._e(),n("modal-vip-consent"),e.openGlossaryTerm?n("modal-glossary",{attrs:{term:e.openGlossaryTerm}}):e._e(),e.openVideoUrl?n("modal-video",{attrs:{url:e.openVideoUrl}}):e._e(),e.openWishlist?n("add-product-to-wishlist",{attrs:{"variant-id":e.openWishlist},on:{"on-modal-close":e.onCloseWishList}}):e._e()],1)}),[],!1,null,null,null);t.default=A.exports}}]);
//# sourceMappingURL=a1ba455.527.js.map