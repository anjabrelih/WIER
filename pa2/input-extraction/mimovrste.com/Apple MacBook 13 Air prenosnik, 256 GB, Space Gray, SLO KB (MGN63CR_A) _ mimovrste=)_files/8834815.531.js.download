(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1363:function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(36),o=r.n(n),c=r(94),l=function(t,e,r){return{get xsellCookieEnabled(){return"1"===o.a.get("X_SELL")},get recommendedTop(){return!1},get recommendedUp(){return!0},get upSell(){return!0},get crossSellRecommended(){var e=t.getABtestVariantSimple(c.a.UP_SELL_CROSS_SELL);return!e||e===c.b.A},get crossUpSell(){return t.getABtestVariantSimple(c.a.UP_SELL_CROSS_SELL)===c.b.B}}}},1425:function(t,e,r){"use strict";r(15);var n=r(5),o=r(10),c=r(8),l=r(9),d=r(3),m=r(7),v=(r(12),r(25),r(0)),f=r(1343),h=r(56),y=r(97),k=r(268),_=r(1245),O=r(151),j=r(439),S=r(440),I=r(441),P=r(1652),x=r(205),C=r(94);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var E=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},R=function(t){Object(c.a)(l,t);var e=w(l);function l(){var t;return Object(n.a)(this,l),(t=e.apply(this,arguments)).recommendedProducts=[],t.getVipIcon=k.a,t.getRrpPrice=_.c,t.getDiscountSource=_.b,t.getDiscountLimit=_.a,t.showVipFeatures=I.a,t}return Object(o.a)(l,[{key:"recommendedEnabled",value:function(t){return t.length}},{key:"mounted",value:function(){this.isCrossSell&&this.$abTesting.trackActiveABTest(C.a.UP_SELL_CROSS_SELL,!0),this.camenTracker=new P.a(this.$logger,this.$webApi)}},{key:"clickEventCart",value:function(t,e){this.clickEvent({product:t,position:e})}},{key:"clickEvent",value:function(data){var t;this.camenTracker.click({masterId:this.variantId,position:data.position,slaveId:data.product.mainVariant.id,bookmarkId:null!==(t=null==data?void 0:data.bookmarkId)&&void 0!==t?t:null,context:this.cartContext})}},{key:"impression",value:function(data){var t;this.camenTracker.impression({masterId:this.variantId,position:data.position,slaveId:data.product.mainVariant.id,bookmarkId:null!==(t=null==data?void 0:data.bookmarkId)&&void 0!==t?t:null,context:this.cartContext})}},{key:"adultImageUrl",get:function(){return r(731)}},{key:"title",get:function(){return this.$t("common.hdg_accessories_recommended")}},{key:"translations",get:function(){return{cta_information_more:this.$t("common.cta_information_more"),vip_program_price:this.$t("common.vip_program_price_badge"),sticker_label_delivery:this.$tc("common.sticker_label_delivery")}}},{key:"recommendedProductsData",get:function(){var t=this;return[{categoryId:null,items:this.recommendedProducts.sort((function(a,b){return t.recommendedVariants.indexOf(a.mainVariant.id)-t.recommendedVariants.indexOf(b.mainVariant.id)})),title:"All"}]}},{key:"vipType",get:function(){var t,e;return this.showVipFeatures(null===(t=this.user)||void 0===t?void 0:t.vipType)?null===(e=this.user)||void 0===e?void 0:e.vipType:""}}]),l}(v.f);E([Object(v.d)({required:!0,type:Array})],R.prototype,"recommendedVariants",void 0),E([Object(v.d)({required:!0,type:String})],R.prototype,"cartContext",void 0),E([Object(v.d)({type:Boolean})],R.prototype,"verticalMobile",void 0),E([Object(v.d)({type:Boolean})],R.prototype,"isCrossSell",void 0),E([Object(v.d)({type:String})],R.prototype,"variantId",void 0),E([Object(v.g)("recommendedProducts"),Object(v.b)()],R.prototype,"recommendedEnabled",null);var $=R=E([Object(v.a)({apollo:{account:h.a,recommendedProducts:{query:O.i,update:function(data){var t;return null!==(t=(data.products||[]).filter((function(t){return t.mainVariant.isAvailable})))&&void 0!==t?t:[]},variables:function(){Object(x.b)()&&console.log("Recommended - data from papi - ".concat(this.cartContext," "));var t=this.recommendedVariants;return{ids:null!=t?t:[]}}},user:{query:y.b,skip:function(){var t,e;return!(null!==(t=this.$shopConfig.user)&&void 0!==t&&t.id||null!==(e=this.account)&&void 0!==e&&e.isLogged)}}},components:{AddToCartButton:j.a,LazyComponent:S.a,RecommendedProducts:f.a}})],R),L=r(6),component=Object(L.a)($,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.recommendedProducts.length?r("recommended-products",{attrs:{"recommended-products":t.recommendedProductsData,title:t.title,translations:t.translations,"allow-adult":t.$shopConfig.user.isAdult,"adult-content-image-url":t.adultImageUrl,"vip-type":t.vipType,"vip-icon":t.getVipIcon(t.$shopConfig),config:t.$shopConfig.webConfig,"vertical-mobile":t.verticalMobile,"get-rrp":t.getRrpPrice,"get-discount-limit":t.getDiscountLimit,"get-discount-source":t.getDiscountSource,"page-type":t.$route.name,"gtm-list":"Recommended"},on:{"on-product-box-click":t.clickEvent,impression:t.impression},scopedSlots:t._u([{key:"add-to-cart-button",fn:function(e){var n=e.product,o=e.position;return[r("add-to-cart-button",{attrs:{context:t.cartContext,product:n},on:{added:function(e){return t.clickEventCart(n,o)}}})]}}],null,!1,964781111)}):t._e()}),[],!1,null,null,null);e.a=component.exports},1652:function(t,e,r){"use strict";r.d(e,"a",(function(){return I}));r(26),r(28),r(25),r(12),r(30);var n=r(35),o=r(2),c=r(14),l=r(5),d=r(10),m=(r(39),r(460),r(98),r(48),r(96),r(49),r(2282)),v=r.n(m),f=r(36),h=r.n(f),y=r(188),k=r(189);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var j="xsell_events",S="xsell_id",I=function(){function t(e,r){Object(l.a)(this,t),this.logger=e,this.webApi=r,this.impressionSending=[]}var e,r,o;return Object(d.a)(t,[{key:"sendLog",value:function(t,e){this.logger.info("camen - ".concat(t),e)}},{key:"isoStringDate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=v()(new Date);return e.setDate(e.getDate()+t),e.toISOString()}},{key:"click",value:(o=Object(c.a)(regeneratorRuntime.mark((function t(e){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{r=this.storage,n=O(O({},e),{},{hitType:y.b.CLICK,date:this.isoStringDate()}),r.push(n),this.storageSave(r)}catch(t){this.sendLog("click storage",t)}return t.prev=1,t.next=4,this.track({hit_type:y.b.CLICK,m_id:e.masterId,placement:e.context,bookmark_id:null!==(o=null==e?void 0:e.bookmarkId)&&void 0!==o?o:null,s_id:["".concat(e.position,":").concat(e.slaveId)],user:this.user,ga_client_id:this.gaUser});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),this.sendLog("click track",t.t0);case 9:case"end":return t.stop()}}),t,this,[[1,6]])}))),function(t){return o.apply(this,arguments)})},{key:"user",get:function(){try{var t=localStorage.getItem(S);if(t)return t;var e=Object(k.c)();return localStorage.setItem(S,e),e}catch(t){return this.sendLog("user",t),null}}},{key:"gaUser",get:function(){try{var t=h.a.get("unid");return t||null}catch(t){return this.sendLog("gaUser",t),null}}},{key:"storage",get:function(){try{var t=localStorage.getItem(j);return t?JSON.parse(t):[]}catch(t){return this.sendLog("getStorage",t),localStorage.removeItem(j),[]}}},{key:"storageSave",value:function(t){localStorage.setItem(j,JSON.stringify(t))}},{key:"impression",value:function(t){var e=this;try{this.impressionTimeout&&clearTimeout(this.impressionTimeout),this.impressionSending.push(t),this.impressionTimeout=setTimeout(Object(c.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.impressionSending,e.impressionSending=[],t.next=4,e.sendImpression(r);case 4:case"end":return t.stop()}}),t)}))),500)}catch(t){this.sendLog("impression",t)}}},{key:"sendImpression",value:(r=Object(c.a)(regeneratorRuntime.mark((function t(data){var e,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=data[0],o=data.map((function(t){var e=t.position,r=t.slaveId;return"".concat(e,":").concat(r)})),c=Object(n.a)(new Set(o)),t.next=5,this.track({hit_type:y.b.VIEW,m_id:r.masterId,placement:r.context,bookmark_id:null!==(e=null==r?void 0:r.bookmarkId)&&void 0!==e?e:null,s_id:c,ga_client_id:this.gaUser,user:this.user});case 5:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"track",value:(e=Object(c.a)(regeneratorRuntime.mark((function t(body){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.webApi.trackXSell(body);case 2:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}()},1661:function(t,e,r){var content=r(2300);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(19).default)("73949972",content,!0,{sourceMap:!1})},1806:function(t,e,r){"use strict";r(15),r(26),r(28),r(30);var n=r(2),o=r(5),c=r(10),l=r(8),d=r(9),m=r(3),v=r(7),f=(r(12),r(48),r(117),r(118),r(25),r(39),r(45),r(130),r(0)),h=r(1343),y=r(36),k=r.n(y),_=r(2491),O=r(97),j=r(56),S=r(1245),I=r(154),P=r(439),x=r(440),C=r(151),w=r(268),E=r(441),R=r(1652),$=r(205);function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function V(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(m.a)(t);if(e){var o=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var T=function(t,e,r,desc){var n,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c},A=function(t){Object(l.a)(n,t);var e=D(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).getVipIcon=w.a,t.getRrpPrice=S.c,t.getDiscountLimit=S.a,t.getDiscountSource=S.b,t.showVipFeatures=E.a,t}return Object(c.a)(n,[{key:"limitProduct",get:function(){var t,e,r=null===(t=this.$shopConfig)||void 0===t||null===(e=t.webConfig)||void 0===e?void 0:e.xSellProductLimit;return r?parseInt(r):32}},{key:"cookieExponeaEtc",get:function(){return k.a.get("__exponea_etc__")}},{key:"upSellUserId",get:function(){var t;if(this.provider===I.f.Exponea)return this.cookieExponeaEtc;if(this.provider===I.f.Databeakers)return k.a.get("db_ui");var e=null===(t=this.$shopConfig.user)||void 0===t?void 0:t.id;return e?e.toString():""}},{key:"gtmContextProvider",get:function(){var t=this.provider;return t===I.f.Xsell?"".concat(this.gtmContext,"_dsc"):"".concat(this.gtmContext,"_").concat(t.toLowerCase())}},{key:"xsellEnabled",value:function(t){return t}},{key:"adultImageUrl",get:function(){return r(731)}},{key:"title",get:function(){return this.provider===I.f.Xsell?this.$t("common.hdg_accessories_recommended"):this.$t("common.up_sell_title")}},{key:"translations",get:function(){return{cta_information_more:this.$t("common.cta_information_more"),vip_program_price:this.$t("common.vip_program_price_badge"),sticker_label_delivery:this.$tc("common.sticker_label_delivery")}}},{key:"translationsSimilar",get:function(){return{added:this.$t("common.added"),buy_now:this.$t("common.cta_buy_now"),similar_product_current:this.$t("detail.similar_product_current"),similar_products:this.$t("detail.similar_products"),similar_products_show_less:this.$t("detail.similar_products_show_less"),similar_products_show_more:this.$t("detail.similar_products_show_more")}}},{key:"clickEventCart",value:function(t,e,r){this.clickEvent({product:t,position:e,bookmarkId:r})}},{key:"products",get:function(){var data=this.getXsellProducts;if(!data)return[];if(data.groups.length)return data.groups.map((function(t){var e=data.products.filter((function(e){return e.groupsIds.filter((function(e){return e===t.id})).length})).filter((function(t){return t.product})).map((function(t){return t.product}));return{title:t.name,categoryId:t.id,items:e}})).filter((function(t){return t.items.length}));var t=data.products.map((function(t){return t.product})).filter((function(t){return null==t?void 0:t.id})),e=this.product.isAdultOnly?t:t.filter((function(t){return!t.isAdultOnly}));return e.length?[{title:"ALL",categoryId:null,items:e}]:[]}},{key:"isSimilar",get:function(){var t;if(!k.a.get("up_sell_bi_similar")&&"1"!==this.$shopConfig.webConfig.upSellBiSimilarEnabled)return!1;var data=this.getXsellProducts;if(!data)return!1;var e=null==data?void 0:data.products[0];return!!(null!==(t=null==e?void 0:e.parameters)&&void 0!==t?t:[]).length}},{key:"tips",get:function(){var data=this.getXsellProducts;if(!data)return[];var t=data.products.filter((function(t){var e;return null===(e=t.product)||void 0===e?void 0:e.id}));return(this.product.isAdultOnly?t:t.filter((function(t){var e;return!(null!==(e=t.product)&&void 0!==e&&e.isAdultOnly)}))).map((function(t){var e,r,n,o,c,l,d,m,v,f;return V(V(V({},null===(e=t.product)||void 0===e?void 0:e.mainVariant),t),{},{rank:null==t||null===(r=t.product)||void 0===r||null===(n=r.rank)||void 0===n?void 0:n.rank,ratingCount:null==t||null===(o=t.product)||void 0===o||null===(c=o.rank)||void 0===c?void 0:c.count,imageId:null===(l=t.product)||void 0===l||null===(d=l.mainVariant)||void 0===d?void 0:d.mediaId,url:null===(m=t.product)||void 0===m||null===(v=m.mainVariant)||void 0===v?void 0:v.variantUrl,variantId:null==t||null===(f=t.product)||void 0===f?void 0:f.mainVariant.id,parameters:t.parameters})}))}},{key:"clickEventDetail",get:function(){return{masterId:this.variantId}}},{key:"vipType",get:function(){var t,e;return this.showVipFeatures(null===(t=this.user)||void 0===t?void 0:t.vipType)?null===(e=this.user)||void 0===e?void 0:e.vipType:""}},{key:"similarProduct",get:function(){var t,e,r,n,o,c,l,d,m,v,f,h=this.tips[0].parameters,y=null!==(t=null===(e=this.product)||void 0===e||null===(r=e.mainVariant)||void 0===r?void 0:r.parameters)&&void 0!==t?t:[],k=h.map((function(t){var e,r=y.find((function(e){return e.key===t.key})),n=null!==(e=null==r?void 0:r.value)&&void 0!==e?e:null;return V(V({},t),{},{value:n})}));return V(V({},null===(n=this.product)||void 0===n?void 0:n.mainVariant),{},{rank:null===(o=this.product)||void 0===o||null===(c=o.rank)||void 0===c?void 0:c.rank,ratingCount:null===(l=this.product)||void 0===l||null===(d=l.rank)||void 0===d?void 0:d.count,imageId:null===(m=this.product)||void 0===m||null===(v=m.mainVariant)||void 0===v?void 0:v.mediaId,url:this.product.variantUrl,variantId:null===(f=this.product.mainVariant)||void 0===f?void 0:f.id,mainVariant:this.product.mainVariant,parameters:k})}},{key:"clickEvent",value:function(data){this.camenTracker.click({masterId:this.variantId,position:data.position,slaveId:data.product.mainVariant.id,bookmarkId:null==data?void 0:data.bookmarkId,context:this.gtmContextProvider})}},{key:"impression",value:function(data){this.camenTracker.impression({masterId:this.variantId,position:data.position,slaveId:data.product.mainVariant.id,bookmarkId:null==data?void 0:data.bookmarkId,context:this.gtmContextProvider})}},{key:"mounted",value:function(){this.camenTracker=new R.a(this.$logger,this.$webApi)}}]),n}(f.f);T([Object(f.d)({required:!0,type:String})],A.prototype,"variantId",void 0),T([Object(f.d)({required:!0,type:Object})],A.prototype,"product",void 0),T([Object(f.d)({required:!0,type:String})],A.prototype,"gtmContext",void 0),T([Object(f.d)({required:!0,type:String})],A.prototype,"provider",void 0),T([Object(f.d)({type:Boolean})],A.prototype,"verticalMobile",void 0),T([Object(f.b)()],A.prototype,"xsellEnabled",null);var U=A=T([Object(f.a)({apollo:{account:j.a,getXsellProducts:{query:C.r,prefetch:!1,fetchPolicy:"no-cache",variables:function(){return Object($.b)()&&console.log("upSell - federation solution\n            - provider ".concat(this.provider,"\n            - gtmContextProvider ").concat(this.gtmContextProvider,"\n            - limit ").concat(this.limitProduct)),{variantId:this.variantId,userId:this.upSellUserId||"",provider:this.provider,limit:this.limitProduct}},update:function(data){var t=!!data.getXsellProducts.products;return this.xsellEnabled(t),data.getXsellProducts}},user:{query:O.b,skip:function(){var t,e;return!(null!==(t=this.$shopConfig.user)&&void 0!==t&&t.id||null!==(e=this.account)&&void 0!==e&&e.isLogged)}}},components:{AddToCartButton:P.a,LazyComponent:x.a,RecommendedProducts:h.a,SimilarProducts:_.a}})],A),B=(r(2299),r(6)),component=Object(B.a)(U,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.isSimilar?r("similar-products",{key:t.variantId,staticClass:"up-sell_similar",attrs:{"current-product":t.similarProduct,"similar-products":t.tips,translations:t.translationsSimilar,"is-mobile":t.$resize.isMobile,"get-rrp":t.getRrpPrice,config:t.$shopConfig.webConfig,"gtm-list":t.gtmContextProvider},on:{impression:t.impression,"click-product":t.clickEvent},scopedSlots:t._u([{key:"add-to-cart-button",fn:function(e){var n=e.product,o=e.position;return[r("add-to-cart-button",{attrs:{product:n,context:t.gtmContextProvider},on:{added:function(e){return t.clickEventCart(n,o)}}})]}}],null,!1,3488222028)}):t._e(),!t.isSimilar&&t.products.length?r("div",[t.isSimilar?t._e():r("recommended-products",{key:t.variantId,attrs:{"recommended-products":t.products,title:t.title,translations:t.translations,"allow-adult":t.$shopConfig.user.isAdult,"adult-content-image-url":t.adultImageUrl,"click-event-detail":t.clickEventDetail,"vip-type":t.vipType,"vip-icon":t.getVipIcon(t.$shopConfig),"get-rrp":t.getRrpPrice,"get-discount-limit":t.getDiscountLimit,"get-discount-source":t.getDiscountSource,config:t.$shopConfig.webConfig,"vertical-mobile":t.verticalMobile,"gtm-list":t.gtmContextProvider},on:{"on-product-box-click":t.clickEvent,impression:t.impression},scopedSlots:t._u([{key:"add-to-cart-button",fn:function(e){var n=e.product,o=e.position,c=e.bookmarkId;return[r("add-to-cart-button",{attrs:{context:t.gtmContextProvider,product:n},on:{added:function(e){return t.clickEventCart(n,o,c)}}})]}}],null,!1,3466536140)})],1):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},2299:function(t,e,r){"use strict";r(1661)},2300:function(t,e,r){var n=r(18)((function(i){return i[1]}));n.push([t.i,".up-sell_similar{margin-bottom:50px}",""]),t.exports=n}}]);
//# sourceMappingURL=8834815.531.js.map