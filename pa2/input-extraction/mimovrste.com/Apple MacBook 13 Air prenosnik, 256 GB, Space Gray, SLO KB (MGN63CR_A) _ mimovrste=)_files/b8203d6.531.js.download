(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{1693:function(t,e,n){var content=n(2360);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("1a1b948a",content,!0,{sourceMap:!1})},1694:function(t,e,n){var content=n(2362);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("57777e2a",content,!0,{sourceMap:!1})},1695:function(t,e,n){var content=n(2364);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("78220f5f",content,!0,{sourceMap:!1})},1696:function(t,e,n){var content=n(2366);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(19).default)("93c1696c",content,!0,{sourceMap:!1})},2359:function(t,e,n){"use strict";n(1693)},2360:function(t,e,n){var o=n(18)((function(i){return i[1]}));o.push([t.i,".crossroad{display:flex;flex-direction:column;padding-top:15px;margin-bottom:20px}@media(min-width:1024.98px){.crossroad{flex-direction:row}}.crossroad__left{width:300px;padding-right:30px;z-index:1}.crossroad__right{flex:1}@media(min-width:1024.98px){.crossroad__right{max-width:calc(100% - 300px)}}.crossroad__right .breadcrumb-nav{position:static;padding-top:15px;margin-bottom:10px}.crossroad__navigation-menu{background:#fff}.crossroad-new{margin-top:15px;margin-bottom:20px}.crossroad-new__first-banner{margin-top:-20px;margin-bottom:10px}@media(min-width:1025px){.crossroad-new__first-banner{margin:20px 0}}@media(min-width:1025px){.crossroad-new__second-banner{margin-bottom:45px}}.crossroad-new__third-banner{margin-bottom:30px}@media(min-width:1025px){.crossroad-new__third-banner{margin-bottom:45px}}",""]),t.exports=o},2361:function(t,e,n){"use strict";n(1694)},2362:function(t,e,n){var o=n(18)((function(i){return i[1]}));o.push([t.i,'.content-page{display:flex;flex-direction:column;padding-top:15px;overflow-anchor:none}.content-page--wide{flex-direction:row}.content-page__left{width:300px;padding-right:30px}.content-page__right{flex:1}.content-page__right--wide{width:calc(100% - 300px)}.content-page__right__empty{margin-top:20px;color:#fff;background-color:#ff8c00;padding:20px}.content-page__content .row{display:block}.content-page__content table{margin:0 0 20px}.content-page__content td,.content-page__content th{padding:5px 0}.content-page__content .tbl--condensed{color:#3d4951;border-collapse:collapse}.content-page__content .tbl--condensed td{padding:7px 10px}.content-page__content .clear{margin:40px 0;height:1px;background:#c8dae5!important;padding:0}.content-page__content .pnl{background-color:#e8eff4;border-color:#c8dae5;padding:10px}.content-page__content .pnl .content-tabs .pnl .h4,.content-page__content .pnl .content-tabs .pnl .h5,.content-page__content .pnl .h3{margin:0 0 10px}.content-page__content .container-grid{padding:0 15px}.content-page__content .container-grid .row{margin-left:-15px;margin-right:-15px;display:flow-root}.content-page__content .container-grid .row .item-aligned{display:flex;align-items:center;justify-content:center}@media(min-width:639.98px){.content-page__content .col-sm-2{width:16.6667%;position:relative;min-height:1px;float:left;padding:0 15px}}@media(min-width:639.98px){.content-page__content .col-sm-3{width:25%;padding:0 15px;position:relative;min-height:1px;float:left}}.content-page__content .col-sm-4{padding:0 15px;position:relative;min-height:1px;float:left;width:100%}@media(min-width:640px){.content-page__content .col-sm-4{width:33.3333%;padding:0 15px}}.content-page__content .col-sm-6{padding:0;position:relative;min-height:1px;float:left;width:100%}@media(min-width:639.98px){.content-page__content .col-sm-6{width:50%;padding:0}}.content-page__content .col-sm-7{position:relative;padding:0 15px}.content-page__content .row .col-sm-6{padding:0 15px;position:relative;min-height:1px;float:left;width:100%}@media(min-width:640px){.content-page__content .row .col-sm-6{width:50%;padding:0 15px}.content-page__content .row .col-sm-7{width:58.3333%}.content-page__content .row .col-sm-5{width:41.6667%}}.content-page__content .con-spacer{margin-top:40px;margin-bottom:40px;border-bottom:1px solid #c8dae5;clear:both;display:block}.content-page__content .pnl--default{background-color:#3d4951;border-color:inherit;color:#fff}.content-page__content .row:after,.content-page__content .row:before{content:"";display:table}.content-page__content .tbl td{border-bottom:1px solid #c8dae5}.content-page__content .pnl--indent-medium{padding:20px}.content-page__content .con-center{text-align:center!important}.content-page__content .item-aligned{display:flex!important;align-items:center;justify-content:center}.content-page__content .msg{margin:0 0 20px;color:#fff}.content-page__content .msg a{color:#fff;font-weight:700}.content-page__content .msg--notice{background-color:#2badce}.content-page__content .msg--indent-medium{padding:20px}.content-page__content .m-0{margin:0}.content-page__content .hidden-mobile--table-row{display:none!important}@media(min-width:639.98px){.content-page__content .hidden-mobile--table-row{display:table-row!important}}.content-page__content .hidden-mobile{display:none!important}@media(min-width:639.98px){.content-page__content .hidden-mobile{display:block!important}}.content-page__content .hidden-mobile-flex{display:none}@media(min-width:639.98px){.content-page__content .hidden-mobile-flex{display:flex}}.content-page__content .hidden-mobile-inline{display:none!important}@media(min-width:639.98px){.content-page__content .hidden-mobile-inline{display:inline-block!important}}.content-page__content .hidden-small{display:none!important}@media(min-width:799.98px){.content-page__content .hidden-small{display:block!important}}.content-page__content .hidden-small-inline{display:none!important}@media(min-width:799.98px){.content-page__content .hidden-small-inline{display:inline-block!important}}.content-page__content .hidden-small-inline-box{display:none!important}@media(min-width:799.98px){.content-page__content .hidden-small-inline-box{display:inline-block!important}}.content-page__content .hidden-tablet{display:none!important}@media(max-width:639.98px){.content-page__content .hidden-tablet{display:block!important}}@media(min-width:1024.98px){.content-page__content .hidden-tablet{display:block!important}}.content-page__content .hidden-desktop{display:none!important}@media(max-width:1024.98px){.content-page__content .hidden-desktop{display:block!important}}.content-page__content .hidden-desktop-inline{display:none!important}@media(max-width:1024.98px){.content-page__content .hidden-desktop-inline{display:inline-block!important}}.content-page__content .visible-mobile{display:none!important}@media(max-width:639.98px){.content-page__content .visible-mobile{display:block!important}}.content-page__content .visible-mobile--table-row{display:table-row!important}@media(min-width:639.98px){.content-page__content .visible-mobile--table-row{display:none!important}}.content-page__content .visible-small{display:none!important}@media(max-width:799.98px){.content-page__content .visible-small{display:block!important}}.content-page__content .visible-small-inline{display:none!important}@media(max-width:799.98px){.content-page__content .visible-small-inline{display:inline-block!important}}.content-page__content .visible-mobile-inline{display:none!important}@media(max-width:639.98px){.content-page__content .visible-mobile-inline{display:inline-block!important}}.content-page__content .visible-tablet{display:none!important}@media(min-width:639.98px)and (max-width:1024.98px){.content-page__content .visible-tablet{display:block!important}}.content-page__content .visible-desktop{display:block!important}@media(max-width:1024.98px){.content-page__content .visible-desktop{display:none!important}}.content-page__content .visible-desktop-inline{display:inline-block!important}@media(max-width:1024.98px){.content-page__content .visible-desktop-inline{display:none!important}}.content-page__content .visible-large{display:block!important}@media(max-width:1199.98px){.content-page__content .visible-large{display:none!important}}.content-page__content .visible-large-inline{display:inline-block!important}@media(max-width:1199.98px){.content-page__content .visible-large-inline{display:none!important}}.container--dark{background-color:#e8eff4}',""]),t.exports=o},2363:function(t,e,n){"use strict";n(1695)},2364:function(t,e,n){var o=n(18)((function(i){return i[1]}));o.push([t.i,".category-index-skeleton[data-v-985724d6]{display:flex;padding-top:25px;min-height:1000px}.category-index-skeleton__left[data-v-985724d6]{display:none}@media(min-width:1025px){.category-index-skeleton__left[data-v-985724d6]{display:block;width:100%;max-width:270px;margin-right:30px}}.category-index-skeleton__right[data-v-985724d6]{width:100%;display:flex;flex-direction:column}.category-index-skeleton__categories[data-v-985724d6]{display:flex;flex-wrap:wrap;margin:25px 0}.category-index-skeleton__category-wrapper[data-v-985724d6]{width:47%;margin:0 5px 5px 0}@media(min-width:425px){.category-index-skeleton__category-wrapper[data-v-985724d6]{max-width:47%}}@media(min-width:1025px){.category-index-skeleton__category-wrapper[data-v-985724d6]{max-width:24%}}.category-index-skeleton__rectangle[data-v-985724d6]{height:20%;margin-top:10px;padding-right:20px}",""]),t.exports=o},2365:function(t,e,n){"use strict";n(1696)},2366:function(t,e,n){var o=n(18)((function(i){return i[1]}));o.push([t.i,".category-index{position:relative}",""]),t.exports=o},2553:function(t,e,n){"use strict";n.r(e);n(15),n(26),n(28),n(25),n(30);var o=n(35),r=n(42),c=n(14),l=n(2),d=n(5),h=n(10),f=n(8),y=n(9),m=n(3),_=n(7),v=(n(49),n(12),n(39),n(45),n(69),n(130),n(62),n(37),n(48),n(117),n(118),n(38)),O=n(0),x=n(1317),w=n.n(x),C=n(71),k=n(1289),P=n(267),j=n.n(P),$=n(36),S=n.n($),B=n(1414),R=n(150),E=n(265),T=n(1763),I=n(1434),F=n(1785),D=n(1415),L=n(1342),N=n(1364),A=n(440),M=n(1294),U=n(1783);function G(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function V(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?G(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):G(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(m.a)(t);if(e){var r=Object(m.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(y.a)(this,n)}}var K=function(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(_.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},Q=function(t){Object(f.a)(n,t);var e=z(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(h.a)(n,[{key:"shouldShowContentPage",get:function(){var t,e;return!(null===(t=this.category)||void 0===t||null===(e=t.content)||void 0===e||!e.id)}},{key:"newSignPostCategoryType",get:function(){return this.category.typeVersion}},{key:"content",get:function(){var t;return(null===(t=this.category)||void 0===t?void 0:t.content)||{}}},{key:"categoryChildren",get:function(){var t,e,n;return null!==(t=null===(e=this.category)||void 0===e||null===(n=e.children)||void 0===n?void 0:n.map((function(t){return V(V({},t),{},{url:Object(M.a)(t)})})))&&void 0!==t?t:[]}},{key:"translations",get:function(){return{hide_category:this.$t("crossroad.hide_category"),more_categories:this.$t("crossroad.more_categories")}}}]),n}(O.f);K([Object(O.d)(Object)],Q.prototype,"category",void 0),K([Object(O.d)(Boolean)],Q.prototype,"isLoading",void 0);var W=Q=K([Object(O.a)({components:{BannerWrapper:L.a,CategoryBreadcrumb:F.a,CategoryNavigationMenu:I.a,CategorySegmentBanner:D.a,Container:E.a,CrossroadTiles:T.a,DynamicContent:N.a,LazyComponent:A.a,Loader:R.a,TheCrossroad:U.a}})],Q),J=(n(2359),n(6)),Y=Object(J.a)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.newSignPostCategoryType?n("div",{staticClass:"crossroad-new"},[n("category-segment-banner",{attrs:{category:t.category}}),n("banner-wrapper",{staticClass:"crossroad-new__first-banner",attrs:{position:1}}),n("the-crossroad",{attrs:{"new-sign-post":"",type:t.newSignPostCategoryType}}),n("banner-wrapper",{staticClass:"crossroad-new__second-banner",attrs:{position:2}}),n("lazy-component",{attrs:{"hide-loader":""}},[n("banner-wrapper",{staticClass:"crossroad-new__third-banner",attrs:{position:3}})],1),t.shouldShowContentPage?n("dynamic-content",{attrs:{body:t.content.body,css:t.content.css,js:t.content.js,tags:t.content.tags,"category-id":t.category.id}}):t._e()],1):n("div",{staticClass:"crossroad"},[t.$resize.isDesktop?n("div",{staticClass:"crossroad__left"},[n("category-navigation-menu",{staticClass:"crossroad__navigation-menu",attrs:{category:t.category}})],1):t._e(),n("div",{staticClass:"crossroad__right"},[n("category-segment-banner",{attrs:{category:t.category}}),n("div",{staticClass:"crossroad__right__wrapper"},[n("banner-wrapper",{attrs:{position:1}})],1),n("the-crossroad"),n("banner-wrapper",{attrs:{position:2}}),n("lazy-component",{attrs:{"hide-loader":""}},[n("banner-wrapper",{attrs:{position:3}})],1),t.shouldShowContentPage?n("dynamic-content",{attrs:{body:t.content.body,css:t.content.css,js:t.content.js,tags:t.content.tags,"category-id":t.category.id}}):t._e()],1)])])}),[],!1,null,null,null).exports;n(59),n(54);function H(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function X(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?H(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):H(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(m.a)(t);if(e){var r=Object(m.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(y.a)(this,n)}}var tt=function(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(_.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},et=function(t){Object(f.a)(n,t);var e=Z(n);function n(){var t;return Object(d.a)(this,n),(t=e.apply(this,arguments)).showContent=!1,t}return Object(h.a)(n,[{key:"content",get:function(){var t,e;return null!==(t=null===(e=this.category)||void 0===e?void 0:e.content)&&void 0!==t?t:void 0}},{key:"created",value:function(){this.isSpaEnabledContent()&&(this.showContent=!0)}},{key:"mounted",value:function(){if(!this.isSpaEnabledContent())return t={router:this.$router,logger:this.$logger,nuxt:this.$nuxt,route:this.$route},e=t.logger,n=t.nuxt,o=t.route,r=t.router,void("1"!==(null==(c=o.query)?void 0:c.r)?r.push({path:o.path,query:X(X({},o.query),{},{r:"1"}),hash:o.hash},(function(){window.location.reload()})):(e.info("content reload"),n.error({statusCode:500})));var t,e,n,o,r,c;this.showContent=!0}},{key:"isSpaEnabledContent",value:function(){var t="1"===this.$shopConfig.webConfig.spaPagesEnabledPageContent;var e=window.location.href.includes("0.0.0.0")||"1"===S.a.get("SPA");return t||e}},{key:"hideSidebar",get:function(){var t,e;return function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).includes("hide-sidebar")}(null!==(t=null===(e=this.content)||void 0===e?void 0:e.tags)&&void 0!==t?t:[])}}]),n}(O.f);tt([Object(O.d)(Object)],et.prototype,"category",void 0);var nt=et=tt([Object(O.a)({components:{CategoryNavigationMenu:I.a,CategorySegmentBanner:D.a,Container:E.a,DynamicContent:N.a,Loader:R.a},head:function(){return{meta:Object(o.a)(this.$route.query.r?[{content:"noindex",hid:"robots-noindex",name:"robots"}]:[])}}})],et),content=(n(2361),Object(J.a)(nt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-page",class:{"content-page--wide":t.$resize.isDesktop}},[t.$resize.isDesktop&&!t.hideSidebar?n("div",{staticClass:"content-page__left"},[n("category-navigation-menu",{attrs:{category:t.category}})],1):t._e(),n("div",{staticClass:"content-page__right",class:{"content-page__right--wide":t.$resize.isDesktop}},[n("category-segment-banner",{attrs:{category:t.category}}),t.showContent&&t.content?n("div",{staticClass:"content-page__content"},[n("dynamic-content",{attrs:{body:t.content.body,css:t.content.css,js:t.content.js,tags:t.content.tags,"category-id":t.category.id}})],1):t._e(),n("loader",{directives:[{name:"show",rawName:"v-show",value:!t.showContent,expression:"!showContent"}],attrs:{"margin-top":100,active:!t.showContent,size:"medium"}})],1)])}),[],!1,null,null,null).exports),ot=n(454),it=n(1323),at=n(1256),ct=n(1324),st=n(1356),lt=n(65),pt=n(1296),ut=n(1325),gt=n(271),ht=n(33),ft=n(450),yt=n(445),mt=n(1790),bt=n(1791);function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(m.a)(t);if(e){var r=Object(m.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(y.a)(this,n)}}var vt=function(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(_.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},Ot=function(t){Object(f.a)(n,t);var e=_t(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return n}(O.f);vt([Object(O.d)({required:!0,type:Boolean})],Ot.prototype,"active",void 0);var xt=Ot=vt([Object(O.a)({components:{Container:E.a,SkeletonLoader:yt.a,SkeletonListFilters:mt.a,SkeletonListTop:bt.a}})],Ot),wt=(n(2363),Object(J.a)(xt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("container",[t.active?n("div",{staticClass:"category-index-skeleton"},[n("div",{staticClass:"category-index-skeleton__left"},[n("skeleton-list-filters")],1),n("div",{staticClass:"category-index-skeleton__right"},[n("skeleton-list-top"),n("div",{staticClass:"category-index-skeleton__categories"},t._l(10,(function(t,e){return n("div",{key:e,staticClass:"category-index-skeleton__category-wrapper"},[n("skeleton-loader",{attrs:{width:"100%",height:"50px",color:"blue-white"}})],1)})),0),n("div",{staticClass:"category-index-skeleton__rectangle"},[n("skeleton-loader",{attrs:{width:"100%",height:"100%",color:"blue-white"}})],1),n("div",{staticClass:"category-index-skeleton__rectangle"},[n("skeleton-loader",{attrs:{width:"100%",height:"100%",color:"blue-white"}})],1)],1)]):t._e(),t._t("default")],2)}),[],!1,null,"985724d6",null).exports),Ct=n(1262),kt=n(443),Pt=n(1252),jt=n(270),$t=n(94),St=n(1422);function Bt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Rt(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Bt(Object(source),!0).forEach((function(e){Object(l.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):Bt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function Et(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=Object(m.a)(t);if(e){var r=Object(m.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(y.a)(this,n)}}var qt=function(t,e,n,desc){var o,r=arguments.length,c=r<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(_.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(o=t[i])&&(c=(r<3?o(c):r>3?o(e,n,c):o(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c},Tt=function(t){Object(f.a)(l,t);var e,n,o=Et(l);function l(){var t;return Object(d.a)(this,l),(t=o.apply(this,arguments)).itemsOnPageOnLoad=0,t.isNextButtonClicked=!1,t.loadAllFilters=!1,t.ITEMS_ON_PAGE=24,t.loadBase=!1,t.isGetProductError=!1,t}return Object(h.a)(l,[{key:"category",get:function(){var t,e=this.loadBase&&!this.preloadProducts?Rt(Rt({},this.getCategory),this.getCategoryBase):Rt(Rt({},this.getCategoryBase),this.getCategory);return Object(st.d)(e)?Rt(Rt({},e),{},{productCollection:Rt({},null!==(t=e.productCollection)&&void 0!==t?t:{})}):e}},{key:"updated",value:function(){this.refreshObserver()}},{key:"mounted",value:function(){this.setUi({mpPanelTranslationKey:"common.msg_partner_notification"}),sessionStorage.getItem("activeProduct")&&(this.itemsOnPageOnLoad=this.itemsOnPage),this.$apollo.queries.getCategory.setOptions({fetchPolicy:"cache-and-network"})}},{key:"callMarxyEvent",value:function(){if(this.getCategoryBase){var t=this.getCategoryBase,e=this.findSapCategory(t),n={categoriesList:t.breadcrumbs.map((function(t){return t.title})),categoryId:e,categoryTitle:t.titleFull,categoryUrl:t.url};this.$nuxt.$emit("categoryId-event",n)}}},{key:"onChangeRouter",value:function(t,e){var n=this;this.$nextTick((function(){(null==e?void 0:e.name)===ht.a.category.name&&(n.itemsOnPageOnLoad=n.ITEMS_ON_PAGE),n.refreshObserver()}))}},{key:"isCustomCanonicalUrl",get:function(){return null!==this.$route.name&&!!this.$route.fullPath.split("?")[1]}},{key:"findSapCategory",value:function(t){var e,n,o=Object(st.d)(t)?t:null,r=null==o||null===(e=o.productCollection)||void 0===e||null===(n=e.items)||void 0===n?void 0:n.find((function(t){return Object(st.a)(t)}));return r?r.productTypeId:null}},{key:"pagination",get:function(){var t,e,n,o,r,c,l,d,h=this.itemsOnPage,f=parseInt(null!==(t=null===(e=this.$route)||void 0===e||null===(n=e.query)||void 0===n?void 0:n.pagination)&&void 0!==t?t:"1"),y=f>=0?f:0,m=null!==(o=null===(r=this.productCollection)||void 0===r?void 0:r.itemsTotalCount)&&void 0!==o?o:0,_=w()(m/h);return{currentPage:y,itemsOnPage:h,loadedItemsCount:null!==(c=null===(l=this.productCollection)||void 0===l||null===(d=l.items)||void 0===d?void 0:d.length)&&void 0!==c?c:0,totalPages:_,initLoadCount:this.preloadProductsCount,isNextButtonClicked:this.isNextButtonClicked}}},{key:"loadMoreOnScroll",value:(n=Object(c.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Rt(Rt({},this.getCategoryQueryVariables),{},{pagination:{limit:this.itemsOnPageOnLoad,offset:this.pagination.currentPage*this.ITEMS_ON_PAGE}}),t.next=3,this.$apollo.query({query:ot.d,variables:e});case 3:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"loadMoreOnClick",value:(e=Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.isNextButtonClicked=!0,t.next=3,this.$router.replace({path:this.$route.path,query:Object(pt.a)(this.$route.query,{pagination:String(this.pagination.currentPage+1)})});case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onPageChange",value:function(t){this.isNextButtonClicked=!1,this.$router.push({path:this.$route.path,query:Object(pt.a)(this.$route.query,{pagination:String(t)})})}},{key:"getCategoryQueryVariables",get:function(){var t=this.$abTesting.getABtestVariant($t.a.CATEGORY_LIST_SORTING,!0),e=t?t.toUpperCase():null;return Rt(Rt({categoryUrl:this.$route.params.url,includeBonusSets:this.includeBonusSets,estimatedDeliveryType:Object(ft.a)(this.$shopConfig),filters:Object(at.f)(this.$route.query)},this.productSorting),{},{sortVersion:e,pagination:{limit:this.itemsOnPageOnLoad,offset:0}})}},{key:"preloadProductsCount",get:function(){return Number(this.$shopConfig.webConfig.categoryProductsCountSsr)||12}},{key:"preloadProducts",get:function(){var t,e;return null!==(t=null===(e=this.$shopConfig.featureFlags)||void 0===e?void 0:e.categoryProductsSsr)&&void 0!==t&&t}},{key:"preloadFacets",get:function(){var t,e;return null!==(t=null===(e=this.$shopConfig.featureFlags)||void 0===e?void 0:e.categoryFacetsSsr)&&void 0!==t&&t}},{key:"isProductCategory",get:function(){return Object(st.d)(this.getCategoryBase)}},{key:"isContentCategory",get:function(){return Object(Pt.b)(this.getCategoryBase)}},{key:"isCrossroad",get:function(){return Object(Pt.g)(this.getCategoryBase)}},{key:"isNotFoundCategory",get:function(){return null===this.getCategoryBase}},{key:"productCollection",get:function(){var t;return this.category&&Object(st.d)(this.category)?null===(t=this.category)||void 0===t?void 0:t.productCollection:null}},{key:"itemsOnPage",get:function(){return this.ITEMS_ON_PAGE}},{key:"productSorting",get:function(){return this.$route.query.o&&{productSorting:Object(ct.a)(this.$route.query.o)}}},{key:"isFirstPagePreload",get:function(){return(0===this.itemsOnPageOnLoad||this.itemsOnPageOnLoad===this.preloadProductsCount)&&1===this.pagination.currentPage}},{key:"isFirstProductsPreload",get:function(){return this.itemsOnPageOnLoad<this.pagination.itemsOnPage}},{key:"isPrefetchOn",get:function(){return"1"!==this.$shopConfig.webConfig.nxtIsPreloadOnScrollDisabled||this.isFirstProductsPreload}},{key:"loadedItemsCount",get:function(){var t,e,n;return null!==(t=null===(e=this.productCollection)||void 0===e||null===(n=e.items)||void 0===n?void 0:n.length)&&void 0!==t?t:0}},{key:"enabledVirtualCategory",get:function(){return this.$abTesting.getABtestVariantSimple($t.a.VIRTUAL_CATEGORIES)===$t.b.B}},{key:"includeBonusSets",get:function(){var t;return null!==(t=Object(kt.a)("categoryPageBonusSet",this.$shopConfig.featureFlags))&&void 0!==t&&t}},{key:"isWinterEdition",get:function(){return Object(jt.a)(this.$shopConfig.webConfig)}},{key:"refreshObserver",value:function(){var t,e=null===(t=this.categoryPage)||void 0===t?void 0:t.$refs.paginationElement;if(e){this.observer&&this.observer.unobserve(e);var n=this.isFirstProductsPreload?{rootMargin:"800px"}:{rootMargin:"450px"};this.observer=new IntersectionObserver(this.onStartingIntersection,n),e&&this.isPrefetchOn&&this.observer.observe(e)}}},{key:"onStartingIntersection",value:function(t){var e=Object(r.a)(t,1)[0],n=this.pagination.totalPages===this.pagination.currentPage&&this.pagination.loadedItemsCount!==this.preloadProductsCount;!e.isIntersecting||this.$apollo.loading||n||0===this.pagination.totalPages||(this.itemsOnPageOnLoad<this.pagination.itemsOnPage?(this.itemsOnPageOnLoad=this.pagination.itemsOnPage,this.refreshObserver()):this.isPrefetchOn&&this.loadMoreOnScroll())}},{key:"setActiveProduct",value:function(t){sessionStorage.setItem("activeProduct",t.id)}},{key:"clearActiveProduct",value:function(){sessionStorage.removeItem("activeProduct")}},{key:"setUi",value:function(t){this.$apollo.mutate({mutation:lt.a,variables:{ui:t}})}},{key:"trackPage",value:function(t){t.__typename&&("ProductCategory"===t.__typename&&Object(gt.d)(this)(t),Object(gt.e)(this)(t))}},{key:"destroyed",value:function(){this.setUi({mpPanelTranslationKey:null}),this.observer&&this.observer.disconnect()}},{key:"enabledFeedback",get:function(){return"1"===S.a.get("search_feedback")&&(!!this.$route.query.s&&(!this.isFirstProductsPreload&&!this.$apollo.queries.getCategory.loading&&this.pagination.currentPage<=1))}}]),l}(v.Vue);qt([Object(O.e)()],Tt.prototype,"categoryPage",void 0),qt([Object(O.g)("getCategoryBase.id")],Tt.prototype,"callMarxyEvent",null),qt([Object(O.g)("$route",{deep:!0,immediate:!0})],Tt.prototype,"onChangeRouter",null);var It=Tt=qt([Object(v.Component)({apollo:{getCategoryBase:{errorPolicy:"all",query:ot.e,variables:function(){var t,e=this.$route,n=e.params.url,o=this.enabledVirtualCategory;return Rt({categoryUrl:n,useVirtualCategories:o,isBot:null===(t=this.$shopConfig)||void 0===t?void 0:t.isBot},o&&{usedFilters:Object(at.f)(e.query)})},update:function(data){return this.loadBase=!0,data.getCategoryBase}},getFiltersCollection:{errorPolicy:"all",query:it.a,fetchPolicy:"cache-and-network",skip:function(){var t;return!(this.preloadFacets||null!==(t=this.$shopConfig)&&void 0!==t&&t.isBot,1)},variables:function(){var t=this.$route,e=Object(at.f)(t.query),n=t.params.url;return{allFilters:"1"===t.query.showAllFilters,categoryUrlKey:n,filters:e}}},getCategory:{errorPolicy:"all",query:ot.d,result:function(t){t.data&&(this.trackPage(this.category),this.$abTesting.trackActiveABTest($t.a.CATEGORY_LIST_SORTING),this.$Progress.finish(),this.loadBase=!1)},skip:function(){var t;return!(this.preloadProducts||null!==(t=this.$shopConfig)&&void 0!==t&&t.isBot,1)},update:function(data){this.loadBase=!1;var t=data.getCategory,e=this.getCategory;if(this.$apollo.queries.getCategory.loading=!1,!t)return null!=e?e:null;if(this.trackPage(data.getCategory),1===this.pagination.currentPage&&(this.isNextButtonClicked=!1),!this.isNextButtonClicked||j()(t,e))return t;if(Object(st.d)(t)&&(Object(st.d)(e)||!e)){var n,o,r=(null===(n=e.productCollection)||void 0===n?void 0:n.items)||[],c=(null==t||null===(o=t.productCollection)||void 0===o?void 0:o.items)||[],l=Object(ut.a)(r,c);return Rt(Rt({},t),{},{productCollection:Rt(Rt({},t.productCollection),{},{items:l})})}return Rt({__typename:t.__typename},t)},variables:function(){return Rt(Rt({},this.getCategoryQueryVariables),{},{pagination:Rt(Rt({},this.isFirstPagePreload?{prefetchCount:this.preloadProductsCount}:{limit:this.itemsOnPageOnLoad>0?this.itemsOnPageOnLoad:this.preloadProductsCount}),{},{offset:(this.pagination.currentPage-1)*this.ITEMS_ON_PAGE})})}},getCategoryBestSeller:{query:ot.f,variables:function(){var t=this.$route,e=Object(at.f)(t.query);return{categoryUrl:t.params.url,filters:e}}},getCanonicalUrl:{query:ot.b,skip:function(){return null===this.$route.name||!(this.$shopConfig.isBot&&this.isCustomCanonicalUrl)},variables:function(){return{categoryUrl:this.$route.path.split("/")[1],urlQuery:this.$route.fullPath.split("?")[1]}}}},components:{SearchFeedback:St.a,SkeletonCategoryIndex:wt,CategoryPage:B.a,Crossroad:Y,NotFoundErrorHandler:Ct.a,ContentPage:content,SnowflakesListSide:k.a},head:function(){var t,e,n;if(!this.category)return{};var r="".concat(null===(t=this.category)||void 0===t?void 0:t.metaDescription," | ").concat(this.$shopConfig.webConfig.title),c=null!==(e=null===(n=this.category)||void 0===n?void 0:n.metaKeywords)&&void 0!==e?e:[],l=this.category.mediaId,d=l?Object(C.c)(l,{height:240,width:235}):"",h=Object(at.e)(this.$route.query,this.category,this.$shopConfig);return{link:[{hid:"previewimage",href:"".concat(this.$shopConfig.webConfig.imgServer,"/").concat(this.category.mediaId),rel:"previewimage"}].concat(Object(o.a)(this.isCustomCanonicalUrl&&this.getCanonicalUrl?[{hid:"canonical",href:this.getCanonicalUrl,rel:"canonical"}]:[])),meta:[{content:r,hid:"description",name:"description"},{content:r,hid:"og:description",name:"og:description"},{content:c.toString(),hid:"keywords",name:"keywords"},{content:d,hid:"og:image",property:"og:image"}].concat(Object(o.a)(h?[{content:"noindex",hid:"robots",name:"robots"}]:[]))}}})],Tt),Ft=(n(2365),Object(J.a)(It,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"category-index"},[n("skeleton-category-index",{attrs:{active:!t.getCategoryBase}},[t.isNotFoundCategory&&!t.isGetProductError?n("not-found-error-handler"):t._e(),t.isProductCategory?n("category-page",{ref:"categoryPage",attrs:{category:t.category,"filter-collection":t.getFiltersCollection,"is-loading":t.$apollo.queries.getCategory.loading||!t.getCategory,"best-seller-loading":t.$apollo.queries.getCategoryBestSeller.loading||!t.getCategoryBestSeller,pagination:t.pagination,"enabled-feedback":t.enabledFeedback},on:{"load-more":t.loadMoreOnClick,"on-page-change":t.onPageChange,"set-active-product":t.setActiveProduct,"clear-active-product":t.clearActiveProduct}}):t._e(),t.isContentCategory?n("content-page",{attrs:{category:t.category}}):t._e(),t.isCrossroad?n("crossroad",{attrs:{category:t.category,"is-loading":t.$apollo.queries.getCategory.loading||!t.getCategory}}):t._e()],1),t.isWinterEdition?n("snowflakes-list-side",{attrs:{"is-right":!0}}):t._e(),t.isWinterEdition?n("snowflakes-list-side",{attrs:{"is-left":!0}}):t._e()],1)}),[],!1,null,null,null));e.default=Ft.exports}}]);
//# sourceMappingURL=b8203d6.531.js.map